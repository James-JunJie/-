##长连接

长连接，也叫持久连接，在TCP层握手成功后，**不立即**断开连接，并在此连接的基础上进行多次消息（包括心跳）交互，直至连接的任意一方（客户端OR服务端）主动断开连接，此过程称为一次完整的长连接。HTTP 1.1相对于1.0最重要的新特性就是引入了长连接。

### 短连接 

短连接，顾名思义，与长连接的区别就是，客户端收到服务端的响应后，**立刻发送FIN消息**，主动释放连接。也有服务端主动断连的情况，凡是在一次消息交互（发请求-收响应）之后立刻断开连接的情况都称为短连接。

*注：短连接是建立在TCP协议上的，有完整的握手挥手流程，区别于UDP协议。*

##  什么时候用长连接，短连接？



1、需要**频繁交互**的场景使用长连接，如即时通信工具（微信/QQ，QQ也有UDP），相反则使用短连接，比如普通的web网站，只有当浏览器发起请求时才会建立连接，服务器返回相应后，连接立即断开。

2、**维持长连接**会有一定的系统开销，用户量少不容易看出系统瓶颈，一旦用户量上去了，就很有可能把服务器资源（内存/CPU/网卡）耗尽，所以使用需谨慎。



InetAddress类： 包装了ip

NetoworkInterface类 : 



###Socket

Socket是应用层与TCP/IP协议族通信的中间软件抽象层，它是一组接口，其实就是一个门面模式。

TCP用主机的**IP地址**加上主机上的**端口号**作为TCP连接的**端点**，这种端点就叫做**套接字（socket）。**





###伪异步io

多线程

。。。

#什么是RPC？

>  RPC（Remote Procedure Call ——远程过程调用），它是一种通过网络从远程计算机程序上请求服务，而不需要了解底层网络的技术。      

是一种思想和描述，抽象。

具体实现可以是：HTTP，FTP，TCP。

微服务之间HTTP REST调用也是RPC



RPC框架需要解决哪些问题？

* 通信问题----

* 代理问题-----------动态代理

* 序列化问题-------自行代理（性能好于jdk序列化）

* 服务实例化-------反射

![image-20210819173130860](C:\Users\Jun\AppData\Roaming\Typora\typora-user-images\image-20210819173130860.png)

























































